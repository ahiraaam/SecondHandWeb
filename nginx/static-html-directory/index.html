<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The Community</title>
	<link rel="stylesheet" href="public/css/layout.css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script src="public/js/navigation-handler.js"></script>
	<script src="public/js/index.js"></script>

</head>
<body>
	<header>
		<nav class="navbar navbar-expand-sm primary-color navbar-dark ">
			<!-- Brand/logo -->
				<div class="showIfLoggedIn">
					<a class="btn primary-btn my-2 my-sm-0 my-lg-0 mr-auto" href="/create-petition">Create Petition</a>
				</div>
				<a class="navbar-brand mx-auto" href="/">
					<img src="public/images/book.svg" alt="logo" style="width:50px;">
					SeLec
				</a>
			<ul class="navbar-nav mr-3 ml-auto">
				<li class="showIfLoggedIn nav-item dropdown">
						<p class="nav-link dropdown-toggle" href="#" id="nav-bar-username" data-toggle="dropdown">
							
						</p>
						<div class="dropdown-menu dropdown-menu-right">
							<a id="a-my-petitions"class="dropdown-item">My Petitions</a>
							<a id="a-my-offers"class="dropdown-item" >My Offers</a>
							<a id="a-my-account" class="dropdown-item">My Account</a>
							<a class="dropdown-item" href="/logout">Log Out</a>
						</div>
				</li>
				<li class="showIfLoggedOut nav-item">
						<a href="/login" class="btn primary-btn">Sign In</a>
				</li>
			</ul>
		</nav>
	</header>

	<main >
		<div id="petitions-page" class="container-fluid my-3">
			<div class="row" id="petitions">
                
            </div>
		</div>
		<div id="create-petition-page" class="container col-sm-9 col-md-7 col-lg-8">
			<h2 class="text-center">Create  Petition</h2>
			<form id = "create-petition-form" action="create-petition" method="POST">
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="title">Title</label>
						<input type="text" id="title" name="title" class="form-control" placeholder="Title" required autofocus>
					</div>
					<div class="form-group col-md-6">
						<label for="author">Author</label>
						<input type="text" id="author" name="author" class="form-control" placeholder="Author" required>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="place">Place</label>
						<input type="text" id="place" name="place" class="form-control" placeholder="Place" required>
					</div>
					<div class="form-group col-md-6">
						<label for="state">State of the book</label>
						<select class="form-control" name="state" id="state" required>
							<option value="new">New</option>
							<option value="used">Used</option>
							<option value="any">Any</option>
						</select>
					</div>
				</div>
				
				<div class="form-group">
					<label for="commentary">Commentary</label>
					<input type="text" id="commentary" name="commentary" class="form-control" placeholder="Commentary">
				</div>
				<div class="form-group">
					<label for="photo">URL Image</label>
					<input type="text" name="photo" id="photo" class="form-control" placeholder="URL Image" value="">
				</div>
				<div class="form-group text-center">
					<input class="btn btn-lg primary-btn text-uppercase" type="submit" value="Create Petition">
				</div>
			</form>
		</div>
		<div id="error-page" class="container-fluid my-3">
			<div class="col-md-6 mx-auto text-center">
				<h3>An error has ocurred </h3>
			</div>
		</div>
		<div id="login-page" class="container-fluid my-3">
			<div class="row">
				<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
					<div id = "card-login"class="card my-5">
						<div class="card-body">
							<h5 class="card-title text-center">Sign In</h5>
							<form  method="POST">
								<div class="form-group">
									<label for="inputEmail">Username</label>
									<input type="text" id="username" name="username" class="form-control" placeholder="Username" required autofocus>
								</div>
								<div class="form-group">
									<label for="inputPassword">Password</label>							
									<input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
								</div>
								<input class="btn primary-btn btn-block text-uppercase" type="submit" value="Sign in">
								<div class="form-group my-3">
									<a class="link" href="/signup">Don't have account? Sign Up</a>
								</div>
							</form>
						</div>
						<p id="login-error-text"></p>
					</div>
				</div>
			</div>
		</div>
		<div id="signup-page" class="container-fluid my-3">
			<div class="row">
				<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
					<div class="card my-2">
						<div class="card-body">
							<h5 id="card-signup" class="card-title text-center">Sign Up</h5>
							<form action="sign-up" class="needs-validation" method="POST">
								<div class="form-group">
									<label for="email">Email address</label>
									<input type="email" id="email" name="email" class="form-control" placeholder="Email address" required autofocus>
								</div>
								<div class="form-group">
									<label for="username">Username</label>							
									<input type="text" id="username" name="username" class="form-control" placeholder="Username" required>
								</div>
								<div class="form-group">
									<label for="password">Password</label>							
									<input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
								</div>
								<div class="form-group">
									<label for="passwordRepeated">Password</label>							
									<input type="password" id="passwordRepeated" name="passwordRepeated" class="form-control" placeholder="Confirm Password" required>
								</div>
								<input class="btn btn-lg primary-btn btn-block text-uppercase" type="submit" value="Sign up">
							</form>
						</div>
						<p id="error-text"></p>
					</div>
				</div>
			</div>
		</div>
		<div id="account-page" class="container-fluid my-3">
			<h1>My account</h1>
			<div id="card-account-page" class="card col-6 mx-auto my-3 py-3">
				<h6 id="id-account"></h6>
				<h6 id="username-account"></h6>
				<div class="row text-center">
					<form id="delete-account"class="col-md-6 text-center" action="delete-account" method="DELETE">
						<input type="hidden" name="accountId" id="accountId" value="">
						<button class="btn delete-btn" type="submit">Delete Account</button>
					</form>
				</div>	
			</div>
		</div>
		
		<div id="account-offers-page" class="container-fluid my-3">
		</div>


		<div id="create-purchase-page" class="container col-sm-9 col-md-7 col-lg-8" >
			<h2 class="text-center">Complete Purchase</h2>
			<div class="row">
				<div class="col-12 card">
					<h5 class="text-center">Order Details</h5>
						<div class="row">
							<div class="col-6">
								<p id="purchase-offer-title">Title: </p>
								<p id="purchase-offer-author">Author:</p>
							</div>
							<div class="col-6">
								<p id="purchase-offer-state">State: </p>
								<p id="purchase-offer-price">Price: </p>
							</div>
						</div>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-12">
					<form id="create-purchase-form" action="" method="POST">
						<h4 class="text-center">Address</h4>
						<div class="form-row">
							<div class="form-group col-md-6">
								<input type="text" id="street" name="street" class="form-control" placeholder="Street Address" required autofocus>
							</div>
							<div class="form-group col-md-6">
								<input type="text" id="address2" name="address2" class="form-control" placeholder="Street Address Line 2" >
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-md-6">
								<input type="text" id="city" name="city" class="form-control" placeholder="City" required >
							</div>
							<div class="form-group col-md-6">
								<input type="text" id="region" name="region" class="form-control" placeholder="Region" >                
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-md-6">
								<input type="number" id="zip" name="zip" class="form-control" placeholder="ZIP Code" required>
							</div>
							<div class="form-group col-md-6">
								<input type="text" id="country" name="country" class="form-control" placeholder="Country" required>                
							</div>
						</div>
						<h4 class="text-center">Payment</h4>
						<div class="form-row">
							<div class="form-group col-md-6">
								<label for="card_name">Name on Card</label>
								<input type="text" id="card_name" name="card_name" class="form-control" placeholder="Name on Card" required>
							</div>
							<div class="form-group col-md-6">
								<label for="card_number">Card Number(XXXX-XXXX-XXXX-XXXX)</label>
								<input  type="number" id="card_number" name="card_number" class="form-control" placeholder="Card Number"  required>                
							</div>
						</div> 
						<div class="form-row">
							<div class="form-group col-md-6">
								<label for="card_number">Expiration Day (MM/YY)</label>
								<input type="text" id="expiration" name="expiration" class="form-control" placeholder="Expiration" required>
							</div>
							<div class="form-group col-md-6">
								<label for="card_number">CVC (XXX)</label>
								<input type="text" id="cvc" name="cvc" class="form-control" placeholder="CVC" required>                
							</div>
						</div>   
						<div class="form-group col-md-6"" style="display: none">
							<label for="commentary">Petition id</label>
							<input type="text" id="purchase-petitionId" name="purchase-petitionId" class="form-control" placeholder="Commentary">
							<label for="commentary">Offer id</label>
							<input type="text" id="purchase-offerId" name="purchase-petitionId" class="form-control" placeholder="Commentary">
						</div>    
						<div class="form-group text-center">
							<input class="btn btn-lg primary-btn text-uppercase" type="submit" value="Complete Purchase">
						</div>
					</form>
				</div>
			</div>
		</div>
		<div id="view-petition-page">
			<h2 class="text-center">Petition</h2>
			<div class="row py-3">
				<div id="section-image-offer" class="col-12 col-md-6">
					<h2 class="text-center" id="petition-title"> </h2>
					<img class="col-12 image-show-one "src="" alt="" id="petition-photo">
					<div class=" btn btn-lg btn-block" id="petition-link" >
					</div>
				</div>
				<div id="section-data-petition" class="col col-md-6 py-5">
					<h4 id="petition-author">Author: </h4>
                	<h4 id="petition-place">Place:</h4>
                	<h4 id="petition-state">State:</h4>
					<p id="petition-commentary"> Commentary:</p>
					<h3>Offers for this petition</h3>
					<div id="list-group-offers" class="list-group">
							
					</div>
				</div>
			</div>
		</div>
		<div id="view-offer-page">
			<h2 class="text-center">Offer Details</h2>
				<div class="row py-3">
					<div class="col-12 card-deck">
						<div class="text-center card">
							<h3 class="text-left ml-3">  Offer:</h3>
							<h4 id="offer-title">Title:</h4>
							<h5 id="offer-author">Author:</h5>
							<h5 id="offer-place">Place:</h5>
							<h5 id="offer-state">State of book:</h5>
							<p id="offer-commentary">Commentary:</p>
							<h5 class="my-3" name="price" id="offer-price">Price: </h5>
								<div class="col text-center" id="offer-link">
								
								</div>

						</div>
						<div class="text-center card">
							<h3 class="text-left ml-3">Petition Associated:</h3>
								<h4 id="offer-petition-title">Title: </h4>
								<h5 id="offer-petition-author">Author:</h5>
								<img class="image-card mb-3" src="" alt="" id="offer-petition-photo">
						</div>
					</div> 
				</div>
		</div>
		<div id="create-offer-page" class="container col-sm-9 col-md-7 col-lg-8">
			<h2 class="text-center">Create  Offer</h2>
			<form id = "create-offer-form" action="offer-petition" method="POST">
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="title">Title</label>
						<input type="text" id="title" name="title" class="form-control" placeholder="Title" required autofocus>
					</div>
					<div class="form-group col-md-6">
						<label for="author">Author</label>
						<input type="text" id="author" name="author" class="form-control" placeholder="Author" required>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="place">Place</label>
						<input type="text" id="place" name="place" class="form-control" placeholder="Place" required>
					</div>
					<div class="form-group col-md-6">
						<label for="state">State of the book</label>
						<select class="form-control" name="state" id="state" required>
							<option value="new">New</option>
							<option value="used">Used</option>
							<option value="any">Any</option>
						</select>
					</div>
				</div>
				
				<div class="form-group">
					<label for="commentary">Commentary</label>
					<input type="text" id="commentary" name="commentary" class="form-control" placeholder="Commentary">
				</div>
				<div class="form-group">
					<label for="price">Price</label>
					<input type="number" id="price" name="price" class="form-control" placeholder="0.0" min="1" step="any">
					<p>*You can't update the price once you create the offer*</p>
				</div>
				<div class="form-group" style="display: none">
					<label for="commentary">Petition id</label>
					<input type="text" id="offer-petitionId" name="offer-petitionId" class="form-control" placeholder="Commentary">
				</div>
				<div class="form-group text-center">
					<input class="btn btn-lg primary-btn text-uppercase" type="submit" value="Create Offer">
				</div>
			</form>
		</div>
		<div id="view-offer-page">
			<h2 class="text-center">Offer</h2>

		</div>
		<div id="edit-petition-page" class="container col-sm-9 col-md-7 col-lg-8">
			<h2 class="text-center">Update Petition</h2>
			<form id="form-update-petition" action="" method="PUT">
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="titleEdit">Title</label>
						<input type="text" id="titleEdit" name="title" class="form-control"  required autofocus>
					</div>
					<div class="form-group col-md-6">
						<label for="authorEdit">Author</label>
						<input type="text" id="authorEdit" name="author" class="form-control" required>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="placeEdit">Place</label>
						<input type="text" id="placeEdit" name="place" class="form-control" required>
					</div>
					<div class="form-group col-md-6">
						<label for="stateEdit">State of the book</label>
						<select class="form-control" name="stateEdit" id="stateEdit" aria-selected="{{petition.state}}" required>
							<option value="new">New</option>
							<option value="used">Used</option>
							<option value="any">Any</option>
						</select>
					</div>
				</div>
				
				<div class="form-group">
					<label for="commentaryEdit">Commentary</label>
					<input type="text" id="commentaryEdit" name="commentary" class="form-control" >
				</div>
				<div class="form-group">
					<label for="photoEdit">URL Image</label>
					<input type="text" name="photoEdit" id="photoEdit" class="form-control" placeholder="URL Image" >
				</div>
				<div class="form-group text-center">
					<input type="hidden" id="editPetitionId">
					<input class="btn btn-lg primary-btn text-uppercase" type="submit" value="Update Petition">
				</div>
			</form>
		</div>

		
	</main>

	<footer class="font-small primary-color text-white footer navbar-fixed-bottom"> 
			<div class="footer-copyright text-center py-3">© 2020 Copyright:
				Made in Jönköping University by Ahiram Cruz and Juan Carlos Pichardo
			</div>
	</footer>
</body>
</html>